import{e as p,o as e,c as o,a,w,p as $,F as u,r as _,t as y,q as L,s as z,u as b,x as v,y as g,b as j,z as x,l as B,m as C,A as I,n as A}from"../assets/filtre-service.9a68d5a3.js";const O={class:"d-md-none pr-12px border border-primary rounded-xs position-relative"},S=a("i",{class:"fas fa-angle-down position-absolute top-0 bottom-0 right-0 mr-16px fs-big-1 text-primary py-5px"},null,-1),F=["value"],N={class:"cat-filters d-md-flex mw-648px flex-wrap justify-content-center align-items-center d-none"},T={class:"mx-16px position-relative"},M=["id","onClick"],V={for:"cat-all",class:"py-4px px-8px fs-short-2 ff-semibold transition-color"},D={__name:"ListFiltre",props:{filtres:Array,categoryId:Number,language:String},emits:["refresh-offres"],setup(l,{emit:t}){const n=p(0);function r(f){t("refresh-offres",f)}function s(){t("refresh-offres",n.value)}return(f,i)=>(e(),o(u,null,[a("div",O,[S,w(a("select",{"onUpdate:modelValue":i[0]||(i[0]=c=>n.value=c),onChange:s,name:"categories",id:"cat-select",class:"fs-short-3 ff-semibold rounded-xs"},[(e(!0),o(u,null,_(l.filtres,c=>(e(),o("option",{value:c.id},y(c.nom),9,F))),256))],544),[[$,n.value]])]),a("ul",N,[(e(!0),o(u,null,_(l.filtres,c=>(e(),o("li",T,[a("input",{name:"cat",id:"cat-"+c.id,onClick:h=>r(c.id),class:"position-absolute top-0 bottom-0 left-0 right-0 w-100 h-100",type:"radio",value:"all"},null,8,M),a("label",V,y(c.nom),1)]))),256))])],64))}},E=["href"],q=a("b",{class:"d-block position-absolute top-0 bottom-0 left-0 right-0 bg-img-bgcolor-primary-0 bg-img-bgcolor-hover-primary-55 bg-img-transition-bgcolor"},null,-1),H=a("span",{class:"text-white shadow-text-sm m-auto bg-img-opacity-0 bg-img-opacity-hover-1 transition-opacity d-block align-self-center z-10 ff-semibold fs-short-2"}," Lire plus ",-1),R=[q,H],P={class:"col py-18px pl-28px pr-14px text-left lh-0 px-lg-16px"},U=["innerHTML"],G={class:"text-primary"},k={__name:"OffreItem",props:{offre:Object,index:Number,key:String},setup(l){const t=l,n=["object-card oc-new col-md-6 px-md-4px col-lg-4 px-lg-8px","object-card oc-new pt-8px pt-md-0 col-md-6 px-md-4px col-lg-4 px-lg-8px","object-card oc-new pt-8px pt-lg-0 col-md-6 px-md-4px col-lg-4 px-lg-8px","object-card oc-new pt-8px col-md-6 px-md-4px col-lg-4 pt-lg-16px px-lg-8px"];let r="bg-img-enjoy-1",s="";p(null);const f=L(()=>(t.offre.image&&(s={backgroundImage:`url(${t.offre.image})`,backgroundSize:"cover",backgroundPosition:"center"},r=""),s));function i(){return t.offre.description==null?!1:t.offre.description.length!==0}return(c,h)=>(e(),o("li",{class:v(n[t.key]?n[t.key]:n[3])},[a("a",{href:t.offre.url,class:"bg-img rounded-xs"},[a("i",{style:z(b(f)),class:v(b(r)+" bg-img-size-hover-110")},R,6),a("div",P,[a("h3",null,y(t.offre.nom),1),i?(e(),o("p",{key:0,innerHTML:t.offre.description?t.offre.description.slice(0,170):""},null,8,U)):g("",!0),a("span",G,[(e(!0),o(u,null,_(t.offre.tags,d=>(e(),o(u,null,[j(y(d.nom)+" \xA0 ",1)],64))),256))])])],8,E)],2))}},J={key:0,class:"pt-24px pt-md-32px d-md-flex flex-md-wrap mx-md-n4px mx-lg-n8px object-cardsList mw-1440px"},K={key:1,class:"pt-24px pt-md-32px d-md-flex flex-md-wrap mx-md-n4px mx-lg-n8px object-cardsList mw-1440px"},Q={__name:"OffresList",props:{offres:Array},setup(l){return(t,n)=>(e(),o(u,null,[l.offres.length>0?(e(),o("ul",J,[(e(!0),o(u,null,_(l.offres,(r,s)=>(e(),x(k,{offre:r,index:s,key:r.id},null,8,["offre","index"]))),128))])):g("",!0),l.offres.length===0?(e(),o("ul",K,[(e(!0),o(u,null,_(l.offres,(r,s)=>(e(),x(k,{offre:r,index:s,key:r.id},null,8,["offre","index"]))),128))])):g("",!0)],64))}};const W=(l,t)=>{const n=l.__vccOpts||l;for(const[r,s]of t)n[r]=s;return n},X={},Y={class:"myLoad"},Z=a("p",null,"Chargement...",-1),ee=[Z];function te(l,t){return e(),o("div",Y,ee)}const se=W(X,[["render",te]]),oe={__name:"AppFront",setup(l){const t="app-offres",n=p([]),r=p([]),s=p(0),f=p(""),i=p(!0);async function c(){if(s.value>0){let m=[...(await C("",s.value,0,1)).data];m.length>1&&m.unshift({id:0,nom:"Tout"}),n.value=m}}async function h(d){let m=await I("",s.value,d);r.value=[...m.data]}return B(async()=>{try{f.value=document.getElementById("body").getAttribute("data-current-language"),s.value=Number(document.getElementById(t).getAttribute("data-category-id")),await c(),await h(0)}catch(d){console.log(d)}finally{i.value=!1}}),(d,m)=>(e(),o(u,null,[n.value.length>1?(e(),x(D,{key:0,categoryId:s.value,language:f.value,filtres:n.value,onRefreshOffres:h},null,8,["categoryId","language","filtres"])):g("",!0),i.value===!0?(e(),x(se,{key:1,isLoading:i.value},null,8,["isLoading"])):g("",!0),i.value===!1?(e(),x(Q,{key:2,offres:r.value},null,8,["offres"])):g("",!0)],64))}};A(oe).mount("#app-offres");
