import{e as u,o as t,c as o,a,w as $,p as L,F as d,r as g,t as h,q as z,s as j,u as b,x as v,y as x,b as B,z as y,l as I,h as A,m as C,A as N,n as O}from"../assets/filtre-service.625db213.js";const S={class:"d-md-none pr-12px border border-primary rounded-xs position-relative"},F=a("i",{class:"fas fa-angle-down position-absolute top-0 bottom-0 right-0 mr-16px fs-big-1 text-primary py-5px"},null,-1),T=["value"],V={class:"cat-filters d-md-flex mw-648px flex-wrap justify-content-center align-items-center d-none"},M={class:"mx-16px position-relative"},D=["id","onClick"],E={for:"cat-all",class:"py-4px px-8px fs-short-2 ff-semibold transition-color"},q={__name:"ListFiltre",props:{filtres:Array,categoryId:Number,language:String},emits:["refresh-offres"],setup(r,{emit:e}){const l=u(0);function n(f){e("refresh-offres",f)}function s(){e("refresh-offres",l.value)}return(f,i)=>(t(),o(d,null,[a("div",S,[F,$(a("select",{"onUpdate:modelValue":i[0]||(i[0]=c=>l.value=c),onChange:s,name:"categories",id:"cat-select",class:"fs-short-3 ff-semibold rounded-xs"},[(t(!0),o(d,null,g(r.filtres,c=>(t(),o("option",{value:c.id},h(c.nom),9,T))),256))],544),[[L,l.value]])]),a("ul",V,[(t(!0),o(d,null,g(r.filtres,c=>(t(),o("li",M,[a("input",{name:"cat",id:"cat-"+c.id,onClick:_=>n(c.id),class:"position-absolute top-0 bottom-0 left-0 right-0 w-100 h-100",type:"radio",value:"all"},null,8,D),a("label",E,h(c.nom),1)]))),256))])],64))}},H=["href"],R=a("b",{class:"d-block position-absolute top-0 bottom-0 left-0 right-0 bg-img-bgcolor-primary-0 bg-img-bgcolor-hover-primary-55 bg-img-transition-bgcolor"},null,-1),P=a("span",{class:"text-white shadow-text-sm m-auto bg-img-opacity-0 bg-img-opacity-hover-1 transition-opacity d-block align-self-center z-10 ff-semibold fs-short-2"}," Lire plus ",-1),U=[R,P],G={class:"col py-18px pl-28px pr-14px text-left lh-0 px-lg-16px"},J=["innerHTML"],K={class:"text-primary"},k={__name:"OffreItem",props:{offre:Object,index:Number,key:String},setup(r){const e=r,l=["object-card oc-new col-md-6 px-md-4px col-lg-4 px-lg-8px","object-card oc-new pt-8px pt-md-0 col-md-6 px-md-4px col-lg-4 px-lg-8px","object-card oc-new pt-8px pt-lg-0 col-md-6 px-md-4px col-lg-4 px-lg-8px","object-card oc-new pt-8px col-md-6 px-md-4px col-lg-4 pt-lg-16px px-lg-8px"];let n="bg-img-enjoy-1",s="";u(null);const f=z(()=>(e.offre.image&&(s={backgroundImage:`url(${e.offre.image})`,backgroundSize:"cover",backgroundPosition:"center"},n=""),s));function i(){return e.offre.description==null?!1:e.offre.description.length!==0}return(c,_)=>(t(),o("li",{class:v(l[e.key]?l[e.key]:l[3])},[a("a",{href:e.offre.url,class:"bg-img rounded-xs"},[a("i",{style:j(b(f)),class:v(b(n)+" bg-img-size-hover-110")},U,6),a("div",G,[a("h3",null,h(e.offre.nom),1),i?(t(),o("p",{key:0,innerHTML:e.offre.description?e.offre.description.slice(0,170):""},null,8,J)):x("",!0),a("span",K,[(t(!0),o(d,null,g(e.offre.tags,p=>(t(),o(d,null,[B(h(p.nom)+" \xA0 ",1)],64))),256))])])],8,H)],2))}},Q={key:0,class:"pt-24px pt-md-32px d-md-flex flex-md-wrap mx-md-n4px mx-lg-n8px object-cardsList mw-1440px"},W={key:1,class:"pt-24px pt-md-32px d-md-flex flex-md-wrap mx-md-n4px mx-lg-n8px object-cardsList mw-1440px"},X={__name:"OffresList",props:{offres:Array},setup(r){return(e,l)=>(t(),o(d,null,[r.offres.length>0?(t(),o("ul",Q,[(t(!0),o(d,null,g(r.offres,(n,s)=>(t(),y(k,{offre:n,index:s,key:n.id},null,8,["offre","index"]))),128))])):x("",!0),r.offres.length===0?(t(),o("ul",W,[(t(!0),o(d,null,g(r.offres,(n,s)=>(t(),y(k,{offre:n,index:s,key:n.id},null,8,["offre","index"]))),128))])):x("",!0)],64))}};const Y=(r,e)=>{const l=r.__vccOpts||r;for(const[n,s]of e)l[n]=s;return l},Z={},ee={class:"myLoad"};function te(r,e){return t(),o("div",ee," Loading... ")}const se=Y(Z,[["render",te]]),oe={__name:"AppFront",setup(r){const e="app-offres",l=u([]),n=u([]),s=u(0),f=u(""),i=u(!0);async function c(){if(s.value>0){let m=[...(await C("",s.value,1)).data];m.unshift({id:0,nom:"Tout"}),l.value=m}}const _=async function(m){let w=await N("",s.value,m);n.value=[...w.data]};return I(async()=>{try{f.value=document.getElementById("body").getAttribute("data-current-language"),s.value=Number(document.getElementById(e).getAttribute("data-category-id")),await c(),await _(0)}catch(p){console.log(p)}finally{i.value=!1}}),(p,m)=>(t(),o(d,null,[A(q,{categoryId:s.value,language:f.value,filtres:l.value,onRefreshOffres:_},null,8,["categoryId","language","filtres"]),i.value===!0?(t(),y(se,{key:0,isLoading:i.value},null,8,["isLoading"])):x("",!0),i.value===!1?(t(),y(X,{key:1,offres:n.value},null,8,["offres"])):x("",!0)],64))}};O(oe).mount("#app-offres");
